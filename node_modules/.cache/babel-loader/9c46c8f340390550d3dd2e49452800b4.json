{"ast":null,"code":"var _jsxFileName = \"/Users/swapnilpatel01/Desktop/exercise-tracker/src/components/edit-exercise.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction EditExercise() {\n  const EditExercise = props => {\n    const [form, setVal] = useState({\n      username: \"\",\n      description: \"\",\n      duration: 0,\n      date: new Date(),\n      users: []\n    });\n    useEffect(() => {\n      axios.get(\"http://localhost:5000/exercises/\" + props.match.params.id).then(response => {\n        setVal({ ...form,\n          username: response.data.username,\n          description: response.data.description,\n          duration: response.data.duration,\n          date: new Date(response.data.date)\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get(\"http://localhost:5000/users/\").then(response => {\n        if (response.data.length > 0) {\n          setVal({ ...form,\n            users: response.data.map(user => user.username),\n            // \"response.data.map\" only returns the \"username\" from the fields as shown in the database\n            username: response.data[0].username // first username in the \"users\" array from database\n\n          });\n        }\n      });\n    }, []);\n\n    const handleSubmit = e => {\n      e.preventDefault();\n      const exercise = {\n        username: form.username,\n        description: form.description,\n        duration: form.duration,\n        date: form.date\n      };\n      console.log(exercise);\n      axios.put(\"http://localhost:5000/exercises/update/\" + props.match.params.id, exercise).then(res => console.log(res.data));\n      window.location = \"/\";\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"Edit Exercise Log\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, \"Username: \"), /*#__PURE__*/React.createElement(\"select\", {\n      required: true,\n      className: \"form-control\",\n      value: form.username,\n      onChange: e => setVal({ ...form,\n        username: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, form.users.map(user => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: user,\n        value: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, user);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, \"Description: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: form.description,\n      onChange: e => setVal({ ...form,\n        description: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, \"Duration (in minutes): \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      value: form.duration,\n      onChange: e => setVal({ ...form,\n        duration: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, \"Date: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      selected: form.date,\n      onChange: e => setVal({ ...form,\n        date: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      disabled: form.description.length < 1,\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, \"Edit Exercise\")))));\n  };\n}\n\nexport default EditExercise;","map":{"version":3,"sources":["/Users/swapnilpatel01/Desktop/exercise-tracker/src/components/edit-exercise.jsx"],"names":["React","useState","useEffect","Link","axios","EditExercise","props","form","setVal","username","description","duration","date","Date","users","get","match","params","id","then","response","data","catch","error","console","log","length","map","user","handleSubmit","e","preventDefault","exercise","put","res","window","location","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction EditExercise() {\n  const EditExercise = (props) => {\n    const [form, setVal] = useState({\n      username: \"\",\n      description: \"\",\n      duration: 0,\n      date: new Date(),\n      users: [],\n    });\n\n    useEffect(() => {\n      axios\n        .get(\"http://localhost:5000/exercises/\" + props.match.params.id)\n        .then((response) => {\n          setVal({\n            ...form,\n            username: response.data.username,\n            description: response.data.description,\n            duration: response.data.duration,\n            date: new Date(response.data.date),\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n\n      axios.get(\"http://localhost:5000/users/\").then((response) => {\n        if (response.data.length > 0) {\n          setVal({\n            ...form,\n            users: response.data.map((user) => user.username), // \"response.data.map\" only returns the \"username\" from the fields as shown in the database\n            username: response.data[0].username, // first username in the \"users\" array from database\n          });\n        }\n      });\n    }, []);\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      const exercise = {\n        username: form.username,\n        description: form.description,\n        duration: form.duration,\n        date: form.date,\n      };\n\n      console.log(exercise);\n      axios\n        .put(\n          \"http://localhost:5000/exercises/update/\" + props.match.params.id,\n          exercise\n        )\n        .then((res) => console.log(res.data));\n      window.location = \"/\";\n    };\n    return (\n      <>\n        <div>\n          <h3>Edit Exercise Log</h3>\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label>Username: </label>\n              <select\n                required\n                className=\"form-control\"\n                value={form.username}\n                onChange={(e) => setVal({ ...form, username: e.target.value })}\n              >\n                {form.users.map((user) => {\n                  return (\n                    <option key={user} value={user}>\n                      {user}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label>Description: </label>\n              <input\n                type=\"text\"\n                required\n                className=\"form-control\"\n                value={form.description}\n                onChange={(e) =>\n                  setVal({ ...form, description: e.target.value })\n                }\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Duration (in minutes): </label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                value={form.duration}\n                onChange={(e) => setVal({ ...form, duration: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Date: </label>\n              <input\n                type=\"date\"\n                selected={form.date}\n                onChange={(e) => setVal({ ...form, date: e.target.value })}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <button\n                type=\"submit\"\n                disabled={form.description.length < 1}\n                className=\"btn btn-primary\"\n              >\n                Edit Exercise\n              </button>\n            </div>\n          </form>\n        </div>\n      </>\n    );\n  };\n}\n\nexport default EditExercise;\n"]},"metadata":{},"sourceType":"module"}